# Test profile - use custom TestContainers setup
%test.quarkus.datasource.devservices.enabled=false

# Database configuration (will be overridden by TestResource)
quarkus.datasource.db-kind=postgresql

# Use Flyway for schema management in tests (same as production)
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-at-start=true

# Global test resource for all integration tests
quarkus.test.integration-test-profile=true

# Test profile log level
quarkus.log.level=INFO
quarkus.log.category."com.tonihacks.annahwi".level=DEBUG
quarkus.log.category."com.tonihacks.annahwi.exception.GlobalExceptionHandler".level=WARN
quarkus.log.category."org.testcontainers".level=INFO
quarkus.log.category."org.flywaydb".level=INFO
quarkus.log.category."org.hibernate.orm.sql".level=WARN
# Reduce RESTEasy/Jackson logging noise in tests
quarkus.log.category."org.jboss.resteasy".level=WARN
quarkus.log.category."com.fasterxml.jackson".level=WARN
# Reduce Quarkus exception logging in tests
quarkus.log.category."io.quarkus".level=WARN
# Suppress transaction/AOP logging that shows business exceptions
quarkus.log.category."org.jboss.threads".level=WARN
quarkus.log.category."io.quarkus.arc".level=WARN
quarkus.log.category."io.quarkus.narayana".level=WARN
%test.quarkus.log.category."com.tonihacks.annahwi".level=INFO

# Disable OpenAPI in tests
anthropic.api.key=test-api-key
