# Test configuration with PostgreSQL TestContainers
# Using custom TestResource for proper container lifecycle management

# Use PostgreSQL for tests (same as production)
quarkus.datasource.db-kind=postgresql

# Disable DevServices - we manage TestContainers manually
quarkus.datasource.devservices.enabled=false

# Use Flyway for schema management in tests (same as production)
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-at-start=true

# Don't let Hibernate interfere with schema - Flyway handles it
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.sql-load-script=no-file

# Test profile log level
quarkus.log.level=INFO
quarkus.log.category."com.tonihacks.annahwi".level=DEBUG
quarkus.log.category."org.testcontainers".level=INFO
quarkus.log.category."org.flywaydb".level=INFO

# Disable OpenAPI in tests
quarkus.smallrye-openapi.enable=false